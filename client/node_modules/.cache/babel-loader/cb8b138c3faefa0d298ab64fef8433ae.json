{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nvar _jsxFileName = \"/Users/mathiaskolberg/Documents/React/udemy/crwn-clothing/src/App.js\";\n// Utils\nimport React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { selectCurrentUser } from \"./redux/user/user-selector\";\nimport { createStructuredSelector } from \"reselect\"; // Styles\n\nimport \"./App.css\"; // Components\n\nimport Header from \"./components/Header.component\";\nimport Footer from \"./components/Footer.component\"; // Pages\n\nimport Contact from \"./pages/Contact.component\";\nimport HomePage from \"./pages/HomePage.component\";\nimport SignInAndSignUpPage from \"./pages/Sign-In-And-Sign-Up.component\";\nimport ShopPage from \"./pages/Shop.component\";\nimport CheckoutPage from \"./pages/Checkout.component\";\nimport ItemDetail from \"./components/Item-detail.component\"; // Firebase\n\nimport { auth, createUserProfileDocument\n/*addCollectionAndDocuments, Add to firestore */\n} from \"./Firebase/Firebase.utils\";\n/* Selectors Add to Firestore\nimport { selectCollectionsForPreview } from \"./redux/shop/shop.selectors\";*/\n\nclass App extends React.Component {\n  constructor(...args) {\n    super(...args);\n    this.unsubscribeFromAuth = null;\n  }\n\n  componentDidMount() {\n    /*this.unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n         userRef.onSnapshot((snapShot) => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data(),\n          });\n        });\n      }\n       setCurrentUser(userAuth);\n      addCollectionAndDocuments(\n        \"collections\",\n        collectionsArray.map(({ title, items }) => ({ title, items }))\n      ); //FIRESTORE;\n    });\n    */\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth(); // Stops talking to server\n  }\n\n  render() {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ScrollToTop, {\n        children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Switch, {\n          children: [/*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/\",\n            component: HomePage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 68,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/shop/:collection/:id\",\n            component: ItemDetail\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 69,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/shop\",\n            component: ShopPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 70,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            path: \"/contact\",\n            component: Contact\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 71,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/checkout\",\n            component: CheckoutPage\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 72,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(Route, {\n            exact: true,\n            path: \"/signin\",\n            render: () => this.props.currentUser ? /*#__PURE__*/_jsxDEV(Redirect, {\n              to: \"/\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 78,\n              columnNumber: 19\n            }, this) : /*#__PURE__*/_jsxDEV(SignInAndSignUpPage, {}, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 73,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 7\n    }, this);\n  }\n\n}\n\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser // Add to Firestore collectionsArray: selectCollectionsForPreview,\n\n});\nexport default connect(mapStateToProps)(App);","map":{"version":3,"sources":["/Users/mathiaskolberg/Documents/React/udemy/crwn-clothing/src/App.js"],"names":["React","Route","Switch","Redirect","connect","selectCurrentUser","createStructuredSelector","Header","Footer","Contact","HomePage","SignInAndSignUpPage","ShopPage","CheckoutPage","ItemDetail","auth","createUserProfileDocument","App","Component","unsubscribeFromAuth","componentDidMount","componentWillUnmount","render","props","currentUser","mapStateToProps"],"mappings":";;AAAA;AACA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,KAAT,EAAgBC,MAAhB,EAAwBC,QAAxB,QAAwC,kBAAxC;AACA,SAASC,OAAT,QAAwB,aAAxB;AACA,SAASC,iBAAT,QAAkC,4BAAlC;AACA,SAASC,wBAAT,QAAyC,UAAzC,C,CAEA;;AACA,OAAO,WAAP,C,CAEA;;AACA,OAAOC,MAAP,MAAmB,+BAAnB;AACA,OAAOC,MAAP,MAAmB,+BAAnB,C,CAEA;;AACA,OAAOC,OAAP,MAAoB,2BAApB;AACA,OAAOC,QAAP,MAAqB,4BAArB;AACA,OAAOC,mBAAP,MAAgC,uCAAhC;AACA,OAAOC,QAAP,MAAqB,wBAArB;AACA,OAAOC,YAAP,MAAyB,4BAAzB;AACA,OAAOC,UAAP,MAAuB,oCAAvB,C,CAEA;;AACA,SACEC,IADF,EAEEC;AACA;AAHF,OAIO,2BAJP;AAMA;AACA;;AAEA,MAAMC,GAAN,SAAkBjB,KAAK,CAACkB,SAAxB,CAAkC;AAAA;AAAA;AAAA,SAChCC,mBADgC,GACV,IADU;AAAA;;AAGhCC,EAAAA,iBAAiB,GAAG;AAClB;AACJ;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAGG;;AAEDC,EAAAA,oBAAoB,GAAG;AACrB,SAAKF,mBAAL,GADqB,CACO;AAC7B;;AAEDG,EAAAA,MAAM,GAAG;AACP,wBACE;AAAA,6BACE,QAAC,WAAD;AAAA,gCACE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBADF,eAEE,QAAC,MAAD;AAAA,kCACE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,GAAlB;AAAsB,YAAA,SAAS,EAAEZ;AAAjC;AAAA;AAAA;AAAA;AAAA,kBADF,eAEE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,uBAAZ;AAAoC,YAAA,SAAS,EAAEI;AAA/C;AAAA;AAAA;AAAA;AAAA,kBAFF,eAGE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,OAAZ;AAAoB,YAAA,SAAS,EAAEF;AAA/B;AAAA;AAAA;AAAA;AAAA,kBAHF,eAIE,QAAC,KAAD;AAAO,YAAA,IAAI,EAAC,UAAZ;AAAuB,YAAA,SAAS,EAAEH;AAAlC;AAAA;AAAA;AAAA;AAAA,kBAJF,eAKE,QAAC,KAAD;AAAO,YAAA,KAAK,MAAZ;AAAa,YAAA,IAAI,EAAC,WAAlB;AAA8B,YAAA,SAAS,EAAEI;AAAzC;AAAA;AAAA;AAAA;AAAA,kBALF,eAME,QAAC,KAAD;AACE,YAAA,KAAK,MADP;AAEE,YAAA,IAAI,EAAC,SAFP;AAGE,YAAA,MAAM,EAAE,MACN,KAAKU,KAAL,CAAWC,WAAX,gBACE,QAAC,QAAD;AAAU,cAAA,EAAE,EAAC;AAAb;AAAA;AAAA;AAAA;AAAA,oBADF,gBAGE,QAAC,mBAAD;AAAA;AAAA;AAAA;AAAA;AAPN;AAAA;AAAA;AAAA;AAAA,kBANF;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFF,eAoBE,QAAC,MAAD;AAAA;AAAA;AAAA;AAAA,gBApBF;AAAA;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,YADF;AA0BD;;AAxD+B;;AA0DlC,MAAMC,eAAe,GAAGnB,wBAAwB,CAAC;AAC/CkB,EAAAA,WAAW,EAAEnB,iBADkC,CAE/C;;AAF+C,CAAD,CAAhD;AAKA,eAAeD,OAAO,CAACqB,eAAD,CAAP,CAAyBR,GAAzB,CAAf","sourcesContent":["// Utils\nimport React from \"react\";\nimport { Route, Switch, Redirect } from \"react-router-dom\";\nimport { connect } from \"react-redux\";\nimport { selectCurrentUser } from \"./redux/user/user-selector\";\nimport { createStructuredSelector } from \"reselect\";\n\n// Styles\nimport \"./App.css\";\n\n// Components\nimport Header from \"./components/Header.component\";\nimport Footer from \"./components/Footer.component\";\n\n// Pages\nimport Contact from \"./pages/Contact.component\";\nimport HomePage from \"./pages/HomePage.component\";\nimport SignInAndSignUpPage from \"./pages/Sign-In-And-Sign-Up.component\";\nimport ShopPage from \"./pages/Shop.component\";\nimport CheckoutPage from \"./pages/Checkout.component\";\nimport ItemDetail from \"./components/Item-detail.component\";\n\n// Firebase\nimport {\n  auth,\n  createUserProfileDocument,\n  /*addCollectionAndDocuments, Add to firestore */\n} from \"./Firebase/Firebase.utils\";\n\n/* Selectors Add to Firestore\nimport { selectCollectionsForPreview } from \"./redux/shop/shop.selectors\";*/\n\nclass App extends React.Component {\n  unsubscribeFromAuth = null;\n\n  componentDidMount() {\n    /*this.unsubscribeFromAuth = auth.onAuthStateChanged(async (userAuth) => {\n      if (userAuth) {\n        const userRef = await createUserProfileDocument(userAuth);\n\n        userRef.onSnapshot((snapShot) => {\n          setCurrentUser({\n            id: snapShot.id,\n            ...snapShot.data(),\n          });\n        });\n      }\n\n      setCurrentUser(userAuth);\n      addCollectionAndDocuments(\n        \"collections\",\n        collectionsArray.map(({ title, items }) => ({ title, items }))\n      ); //FIRESTORE;\n    });\n    */\n  }\n\n  componentWillUnmount() {\n    this.unsubscribeFromAuth(); // Stops talking to server\n  }\n\n  render() {\n    return (\n      <div>\n        <ScrollToTop>\n          <Header />\n          <Switch>\n            <Route exact path=\"/\" component={HomePage} />\n            <Route path=\"/shop/:collection/:id\" component={ItemDetail} />\n            <Route path=\"/shop\" component={ShopPage} />\n            <Route path=\"/contact\" component={Contact} />\n            <Route exact path=\"/checkout\" component={CheckoutPage} />\n            <Route\n              exact\n              path=\"/signin\"\n              render={() =>\n                this.props.currentUser ? (\n                  <Redirect to=\"/\" />\n                ) : (\n                  <SignInAndSignUpPage />\n                )\n              }\n            />\n          </Switch>\n          <Footer />\n        </ScrollToTop>\n      </div>\n    );\n  }\n}\nconst mapStateToProps = createStructuredSelector({\n  currentUser: selectCurrentUser,\n  // Add to Firestore collectionsArray: selectCollectionsForPreview,\n});\n\nexport default connect(mapStateToProps)(App);\n"]},"metadata":{},"sourceType":"module"}